{"ast":null,"code":"import _createForOfIteratorHelper from \"/Users/owner/Downloads/shoppingcart/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _classCallCheck from \"/Users/owner/Downloads/shoppingcart/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/owner/Downloads/shoppingcart/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"/Users/owner/Downloads/shoppingcart/node_modules/@babel/runtime/helpers/esm/get\";\nimport _getPrototypeOf from \"/Users/owner/Downloads/shoppingcart/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/owner/Downloads/shoppingcart/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/owner/Downloads/shoppingcart/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport { Observable } from './Observable';\nimport { Subscription, EMPTY_SUBSCRIPTION } from './Subscription';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { arrRemove } from './util/arrRemove';\nexport var Subject = /*#__PURE__*/function (_Observable) {\n  _inherits(Subject, _Observable);\n\n  var _super = _createSuper(Subject);\n\n  function Subject() {\n    var _this;\n\n    _classCallCheck(this, Subject);\n\n    _this = _super.call(this);\n    _this.closed = false;\n    _this.observers = [];\n    _this.isStopped = false;\n    _this.hasError = false;\n    _this.thrownError = null;\n    return _this;\n  }\n\n  _createClass(Subject, [{\n    key: \"lift\",\n    value: function lift(operator) {\n      var subject = new AnonymousSubject(this, this);\n      subject.operator = operator;\n      return subject;\n    }\n  }, {\n    key: \"_throwIfClosed\",\n    value: function _throwIfClosed() {\n      if (this.closed) {\n        throw new ObjectUnsubscribedError();\n      }\n    }\n  }, {\n    key: \"next\",\n    value: function next(value) {\n      this._throwIfClosed();\n\n      if (!this.isStopped) {\n        var copy = this.observers.slice();\n\n        var _iterator = _createForOfIteratorHelper(copy),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var observer = _step.value;\n            observer.next(value);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n    }\n  }, {\n    key: \"error\",\n    value: function error(err) {\n      this._throwIfClosed();\n\n      if (!this.isStopped) {\n        this.hasError = this.isStopped = true;\n        this.thrownError = err;\n        var observers = this.observers;\n\n        while (observers.length) {\n          observers.shift().error(err);\n        }\n      }\n    }\n  }, {\n    key: \"complete\",\n    value: function complete() {\n      this._throwIfClosed();\n\n      if (!this.isStopped) {\n        this.isStopped = true;\n        var observers = this.observers;\n\n        while (observers.length) {\n          observers.shift().complete();\n        }\n      }\n    }\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe() {\n      this.isStopped = this.closed = true;\n      this.observers = null;\n    }\n  }, {\n    key: \"_trySubscribe\",\n    value: function _trySubscribe(subscriber) {\n      this._throwIfClosed();\n\n      return _get(_getPrototypeOf(Subject.prototype), \"_trySubscribe\", this).call(this, subscriber);\n    }\n  }, {\n    key: \"_subscribe\",\n    value: function _subscribe(subscriber) {\n      this._throwIfClosed();\n\n      this._checkFinalizedStatuses(subscriber);\n\n      return this._innerSubscribe(subscriber);\n    }\n  }, {\n    key: \"_innerSubscribe\",\n    value: function _innerSubscribe(subscriber) {\n      var hasError = this.hasError,\n          isStopped = this.isStopped,\n          observers = this.observers;\n      return hasError || isStopped ? EMPTY_SUBSCRIPTION : (observers.push(subscriber), new Subscription(function () {\n        return arrRemove(observers, subscriber);\n      }));\n    }\n  }, {\n    key: \"_checkFinalizedStatuses\",\n    value: function _checkFinalizedStatuses(subscriber) {\n      var hasError = this.hasError,\n          thrownError = this.thrownError,\n          isStopped = this.isStopped;\n\n      if (hasError) {\n        subscriber.error(thrownError);\n      } else if (isStopped) {\n        subscriber.complete();\n      }\n    }\n  }, {\n    key: \"asObservable\",\n    value: function asObservable() {\n      var observable = new Observable();\n      observable.source = this;\n      return observable;\n    }\n  }]);\n\n  return Subject;\n}(Observable);\n\nSubject.create = function (destination, source) {\n  return new AnonymousSubject(destination, source);\n};\n\nexport var AnonymousSubject = /*#__PURE__*/function (_Subject) {\n  _inherits(AnonymousSubject, _Subject);\n\n  var _super2 = _createSuper(AnonymousSubject);\n\n  function AnonymousSubject(destination, source) {\n    var _this2;\n\n    _classCallCheck(this, AnonymousSubject);\n\n    _this2 = _super2.call(this);\n    _this2.destination = destination;\n    _this2.source = source;\n    return _this2;\n  }\n\n  _createClass(AnonymousSubject, [{\n    key: \"next\",\n    value: function next(value) {\n      var _a, _b;\n\n      (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.next) === null || _b === void 0 ? void 0 : _b.call(_a, value);\n    }\n  }, {\n    key: \"error\",\n    value: function error(err) {\n      var _a, _b;\n\n      (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.call(_a, err);\n    }\n  }, {\n    key: \"complete\",\n    value: function complete() {\n      var _a, _b;\n\n      (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.complete) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n  }, {\n    key: \"_subscribe\",\n    value: function _subscribe(subscriber) {\n      var _a, _b;\n\n      return (_b = (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber)) !== null && _b !== void 0 ? _b : EMPTY_SUBSCRIPTION;\n    }\n  }]);\n\n  return AnonymousSubject;\n}(Subject); //# sourceMappingURL=Subject.js.map","map":{"version":3,"sources":["/Users/owner/Downloads/shoppingcart/node_modules/rxjs/dist/esm/internal/Subject.js"],"names":["Observable","Subscription","EMPTY_SUBSCRIPTION","ObjectUnsubscribedError","arrRemove","Subject","closed","observers","isStopped","hasError","thrownError","operator","subject","AnonymousSubject","value","_throwIfClosed","copy","slice","observer","next","err","length","shift","error","complete","subscriber","_checkFinalizedStatuses","_innerSubscribe","push","observable","source","create","destination","_a","_b","call","subscribe"],"mappings":"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","sourcesContent":["import { Observable } from './Observable';\nimport { Subscription, EMPTY_SUBSCRIPTION } from './Subscription';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { arrRemove } from './util/arrRemove';\nexport class Subject extends Observable {\n    constructor() {\n        super();\n        this.closed = false;\n        this.observers = [];\n        this.isStopped = false;\n        this.hasError = false;\n        this.thrownError = null;\n    }\n    lift(operator) {\n        const subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    }\n    _throwIfClosed() {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n    }\n    next(value) {\n        this._throwIfClosed();\n        if (!this.isStopped) {\n            const copy = this.observers.slice();\n            for (const observer of copy) {\n                observer.next(value);\n            }\n        }\n    }\n    error(err) {\n        this._throwIfClosed();\n        if (!this.isStopped) {\n            this.hasError = this.isStopped = true;\n            this.thrownError = err;\n            const { observers } = this;\n            while (observers.length) {\n                observers.shift().error(err);\n            }\n        }\n    }\n    complete() {\n        this._throwIfClosed();\n        if (!this.isStopped) {\n            this.isStopped = true;\n            const { observers } = this;\n            while (observers.length) {\n                observers.shift().complete();\n            }\n        }\n    }\n    unsubscribe() {\n        this.isStopped = this.closed = true;\n        this.observers = null;\n    }\n    _trySubscribe(subscriber) {\n        this._throwIfClosed();\n        return super._trySubscribe(subscriber);\n    }\n    _subscribe(subscriber) {\n        this._throwIfClosed();\n        this._checkFinalizedStatuses(subscriber);\n        return this._innerSubscribe(subscriber);\n    }\n    _innerSubscribe(subscriber) {\n        const { hasError, isStopped, observers } = this;\n        return hasError || isStopped\n            ? EMPTY_SUBSCRIPTION\n            : (observers.push(subscriber), new Subscription(() => arrRemove(observers, subscriber)));\n    }\n    _checkFinalizedStatuses(subscriber) {\n        const { hasError, thrownError, isStopped } = this;\n        if (hasError) {\n            subscriber.error(thrownError);\n        }\n        else if (isStopped) {\n            subscriber.complete();\n        }\n    }\n    asObservable() {\n        const observable = new Observable();\n        observable.source = this;\n        return observable;\n    }\n}\nSubject.create = (destination, source) => {\n    return new AnonymousSubject(destination, source);\n};\nexport class AnonymousSubject extends Subject {\n    constructor(destination, source) {\n        super();\n        this.destination = destination;\n        this.source = source;\n    }\n    next(value) {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.next) === null || _b === void 0 ? void 0 : _b.call(_a, value);\n    }\n    error(err) {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.call(_a, err);\n    }\n    complete() {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.complete) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n    _subscribe(subscriber) {\n        var _a, _b;\n        return (_b = (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber)) !== null && _b !== void 0 ? _b : EMPTY_SUBSCRIPTION;\n    }\n}\n//# sourceMappingURL=Subject.js.map"]},"metadata":{},"sourceType":"module"}